<mat-card class="card submitPost">
  <form class="post-form" [formGroup]="postForm" (ngSubmit)="onSubmitPost(postForm.value)">
    <mat-form-field class="post-field-full-width">
      <input  id="postAuthor" type="hidden" formControlName="author">
      <input  id="postDate"  type="hidden"  formControlName="date">
      <input matInput id="postContent" type="text" placeholder="CrÃ©ez un nouveau post" formControlName="content">
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit">Envoyer</button>
  </form>
</mat-card>

<div class="card post" *ngFor="let post of (feed | async)">
  <mat-card class="card">
    <mat-card-header  [attr.data-message-id]="post.id">
      <mat-card-subtitle>{{post.author}}</mat-card-subtitle>
      <mat-card-title>{{post.title}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>{{post.content}}</p>
    </mat-card-content>
    <div *ngFor="let comment of values" >
      <div *ngFor="let c of comment">
        <div *ngIf="c.postId==post.id">
        <mat-card class="card comment">
              <h5 >
               {{c.author}}
              </h5>
              <p>{{c.content}}</p>
            </mat-card>
          </div>
      </div>
    </div>

    <mat-divider></mat-divider>
    <form class="comment-form" [formGroup]="commentForm" (ngSubmit)="onSubmitComment(commentForm.value)">
      <mat-form-field class="comment-field-full-width">
        <input  id="commentAuthor" type="hidden" formControlName="author">
        <input  id="commentDate"  type="hidden"  formControlName="date">
        <input matInput id="commentContent" type="text" placeholder="Ajoutez un commentaire" formControlName="content">
      </mat-form-field>
      <button mat-raised-button color="primary" type="submit"><mat-icon aria-hidden="false" aria-label="Example home icon">send</mat-icon></button>
    </form>
  </mat-card>

</div>

